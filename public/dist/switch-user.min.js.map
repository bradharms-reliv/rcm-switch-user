{"version":3,"sources":["switch-user.js"],"names":["rcm","addAngularModule","angular","module","RcmSwitchUserConfig","self","this","config","defaults","showSwitchToUserNameField","switchToUserName","switchToUserNameButtonLabel","switchBackButtonLabel","switchUserInfoContentPrefix","switchToUserNamePlaceholder","get","key","service","directive","$sce","$window","link","$scope","element","attrs","scope","propLoading","propIsSu","propImpersonatedUser","propSwitchBackMethod","propShowSwitchToUserNameField","propSwitchToUserName","propSwitchToUserNamePlaceholder","propSwitchToUserNameButtonLabel","propSwitchBackButtonLabel","propSuUserPassword","propSwitchUserInfoContentPrefix","propMessage","propOnSwitchTo","propOnSwitchBack","template","RcmSwitchUserService","rcmLoading","rcmApiLibService","rcmEventManager","getSuMayBeActive","mayBeActive","sessionStorage","rcmSwitchUser_suMayBeActive","JSON","parse","setSuMayBeActive","data","stringify","suMessage","suData","isSu","impersonatedUser","switchBackMethod","apiPaths","switchUser","switchUserBack","changeSu","buildValidData","onSuChange","trigger","getSu","onSuccess","onError","url","loading","loadingInt","Number","setLoading","success","response","error","switchToUsername","post","status","suUserPassword","init","RcmSwitchUserAdminService","rcmSwitchUserService","rcmApiLibMessageService","message","isLoading","apiInit","handleMessages","messages","getPrimaryMessage","onSwitchToSuccess","location","reload","onSwitchToError","onSwitchBackAndToSuccess","switchTo","onSwitchBackSuccess","onSwitchBackError","switchBack","on","RcmSwitchUserMessageInject","$compile","rcmSwitchUserConfig","getDefault","value","defaultKey","fallback","injectHeader","Boolean","String","content","jQuery","prependTo","contents","aemlement","run","rcmSwitchUserMessageInject","rcmSwitchUserAdminService","propInfoContent","propShow"],"mappings":"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","file":"switch-user.min.js"}
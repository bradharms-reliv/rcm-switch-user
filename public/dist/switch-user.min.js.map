{"version":3,"sources":["switch-user.js"],"names":["rcm","addAngularModule","angular","module","RcmSwitchUserConfig","self","this","config","defaults","showSwitchToUserNameField","switchToUserName","switchToUserNameButtonLabel","switchBackButtonLabel","switchUserInfoContentPrefix","switchToUserNamePlaceholder","get","key","service","directive","$sce","$window","link","$scope","element","attrs","scope","propLoading","propIsSu","propImpersonatedUser","propSwitchBackMethod","propShowSwitchToUserNameField","propSwitchToUserName","propSwitchToUserNamePlaceholder","propSwitchToUserNameButtonLabel","propSwitchBackButtonLabel","propSuUserPassword","propSwitchUserInfoContentPrefix","propMessage","propOnSwitchTo","propOnSwitchBack","template","showImpersonatorDetails","toggleImpersonatorDetails","RcmSwitchUserService","rcmLoading","rcmApiLibService","rcmEventManager","getSuMayBeActive","mayBeActive","sessionStorage","rcmSwitchUser_suMayBeActive","JSON","parse","setSuMayBeActive","data","stringify","suMessage","suData","isSu","impersonatedUser","switchBackMethod","apiPaths","switchUser","switchUserBack","changeSu","buildValidData","onSuChange","trigger","getSu","onSuccess","onError","url","loading","loadingInt","Number","setLoading","success","response","error","switchToUsername","post","status","suUserPassword","init","RcmSwitchUserAdminService","rcmSwitchUserService","rcmApiLibMessageService","message","isLoading","apiInit","handleMessages","messages","getPrimaryMessage","onSwitchToSuccess","location","reload","onSwitchToError","onSwitchBackAndToSuccess","switchTo","onSwitchBackSuccess","onSwitchBackError","switchBack","on","RcmSwitchUserMessageInject","$compile","rcmSwitchUserConfig","getDefault","value","defaultKey","fallback","injectHeader","Boolean","String","content","jQuery","prependTo","contents","aemlement","run","rcmSwitchUserMessageInject","rcmSwitchUserAdminService","propInfoContent","propShow"],"mappings":";;AACkB,mBAAPA,MAEPA,IAAIC,iBAAiB,iBAEzBC,QAAQC,OAAO,iBAAkB,aAAc,WAAY,aAM3D,IAAIC,qBAAsB,WACtB,GAAIC,MAAOC,IAEXD,MAAKE,UAELF,KAAKG,UACDC,2BAA2B,EAC3BC,iBAAkB,GAClBC,4BAA6B,iBAC7BC,sBAAuB,oBACvBC,4BAA6B,iBAC7BC,4BAA6B,YAGjCT,KAAKU,IAAM,SAAUC,KAEjB,MAAIX,MAAKE,OAAOS,KACLX,KAAKE,OAAOS,KAGnBX,KAAKG,SAASQ,KACPX,KAAKG,SAASQ,KAGlB,MAOfd,SAAQC,OAAO,iBAAiBc,QAC5B,sBACA,WACI,MAAO,IAAIb,uBAQnBF,QAAQC,OAAO,iBAAiBe,UAC5B,6BAEI,OACA,UACA,SACIC,KACAC,SAQA,QAASC,MAAKC,OAAQC,QAASC,QAI/B,OACIH,KAAMA,KACNI,OACIC,YAAa,WACbC,SAAU,QACVC,qBAAsB,oBACtBC,qBAAsB,oBACtBC,8BAA+B,6BAC/BC,qBAAsB,oBACtBC,gCAAiC,+BACjCC,gCAAiC,+BACjCC,0BAA2B,yBAC3BC,mBAAoB,kBACpBC,gCAAiC,+BACjCC,YAAa,WACbC,eAAgB,cAChBC,iBAAkB,iBAEtBC,SAAU,iuDAS1BtC,QAAQC,OAAO,iBAAiBe,UAC5B,mCAEI,OACA,UACA,SACIC,KACAC,SAQA,QAASC,MAAKC,OAAQC,QAASC,OAC3BF,OAAOmB,yBAA0B,EAEjCnB,OAAOoB,0BAA4B,WAE/BpB,OAAOmB,yBAA2BnB,OAAOmB,yBAIjD,OACIpB,KAAMA,KACNI,OACIC,YAAa,WACbC,SAAU,QACVC,qBAAsB,oBACtBC,qBAAsB,oBACtBC,8BAA+B,6BAC/BC,qBAAsB,oBACtBC,gCAAiC,+BACjCC,gCAAiC,+BACjCC,0BAA2B,yBAC3BC,mBAAoB,kBACpBC,gCAAiC,+BACjCC,YAAa,WACbC,eAAgB,cAChBC,iBAAkB,iBAEtBC,SAAU,gpGAS1BtC,QAAQC,OAAO,iBAAiBe,UAC5B,uCAEI,OACA,UACA,SACIC,KACAC,SAQA,QAASC,MAAKC,OAAQC,QAASC,QAI/B,OACIH,KAAMA,KACNI,OACIC,YAAa,WACbC,SAAU,QACVC,qBAAsB,oBACtBC,qBAAsB,oBACtBC,8BAA+B,6BAC/BC,qBAAsB,oBACtBC,gCAAiC,+BACjCC,gCAAiC,+BACjCC,0BAA2B,yBAC3BC,mBAAoB,kBACpBC,gCAAiC,+BACjCC,YAAa,WACbC,eAAgB,cAChBC,iBAAkB,iBAEtBC,SAAU,wyFAa1B,IAAIG,sBAAuB,SAAUC,WAAYC,iBAAkBC,iBA2F/D,QAASC,oBACL,GAAIC,cAAc,CAIlB,OAH+B,mBAArB,iBAAoCC,eAAeC,8BACzDF,YAAcG,KAAKC,MAAMH,eAAeC,8BAErCF,YAWX,QAASK,kBAAiBC,MACS,mBAArB,kBACNL,eAAeC,4BAA8BC,KAAKI,UAAUD,OAxGpE,GAAIjD,MAAOC,IAMXD,MAAKE,QACDiD,UAAW,oCAOfnD,KAAKoD,QACDC,MAAM,EACNC,iBAAkB,KAClBC,iBAAkB,OAOtB,IAAIC,WACAC,WAAY,uBACZC,eAAgB,6BAOhBC,SAAW,SAAUV,MACrB,MAAKA,WAQLjD,KAAKoD,OAASH,WAPVjD,KAAKoD,QACDC,MAAM,EACNC,iBAAkB,KAClBC,iBAAkBvD,KAAKoD,OAAOG,oBAYtCK,eAAiB,SAAUX,MAS3B,MARKA,QACDA,MACII,MAAM,EACNC,iBAAkB,KAClBC,iBAAkBvD,KAAKoD,OAAOG,mBAI/BN,MAOPY,WAAa,SAAUZ,MAEvBA,KAAOW,eAAeX,MAEtBU,SAASV,MAETR,gBAAgBqB,QACZ,gCACAb,MAuCRjD,MAAK+D,MAAQ,SAAUC,UAAWC,SAE9BzB,iBAAiB9B,KAETwD,IAAKV,SAASC,WACdU,QAAS,SAAUA,SACf,GAAIC,YAAaC,QAAQF,QACzB5B,YAAW+B,WACP,+BACAF,aAGRG,QAAS,SAAUC,UACfX,WAAWW,SAASvB,MACpBe,UAAUQ,WAEdC,MAAO,SAAUD,UACbX,WAAWW,SAASvB,MACpBgB,QAAQO,cAYxBxE,KAAKyD,WAAa,SAAUiB,iBAAkBV,UAAWC,SAErDjB,kBAAiB,EAEjB,IAAIC,OACAyB,iBAAkBA,iBAGtBlC,kBAAiBmC,MAETT,IAAKV,SAASC,WACdR,KAAMA,KACNkB,QAAS,SAAUA,SACf,GAAIC,YAAaC,QAAQF,QACzB5B,YAAW+B,WACP,+BACAF,aAGRG,QAAS,SAAUC,SAAUI,QACzBf,WACIW,SAASvB,MAEbe,UAAUQ,SAAUI,SAExBH,MAAO,SAAUD,SAAUI,QACvBf,WAAWW,SAASvB,MACpBgB,QAAQO,SAAUI,YAYlC5E,KAAK0D,eAAiB,SAAUmB,eAAgBb,UAAWC,SAEvD,GAAIhB,OACA4B,eAAgBA,eAGpBrC,kBAAiBmC,MAETT,IAAKV,SAASE,eACdT,KAAMA,KACNkB,QAAS,SAAUA,SACf,GAAIC,YAAaC,QAAQF,QACzB5B,YAAW+B,WACP,+BACAF,aAGRG,QAAS,SAAUC,SAAUI,QACzBf,aACAG,UAAUQ,SAAUI,SAExBH,MAAO,SAAUD,SAAUI,QACvBf,aACAI,QAAQO,SAAUI,WASlC,IAAIE,MAAO,WACFpC,oBAIL1C,KAAK+D,MACD,aAEA,cAKRe,QAMJjF,SAAQC,OAAO,iBAAiBc,QAC5B,wBAEI,aACA,mBACA,kBACA,SACI2B,WACAC,iBACAC,iBAEA,MAAO,IAAIH,sBACPC,WACAC,iBACAC,mBAgBhB,IAAIsC,2BAA4B,SAC5BjE,KACAkE,qBACAvC,gBACAwC,wBACAlE,QACAwB,YAGA,GAAIvC,MAAOC,IAEXD,MAAKgB,KAAO,SAAUC,QAElBA,OAAOkD,SAAU,EACjBlD,OAAOoC,MAAO,EACdpC,OAAOqC,iBAAmB,KAC1BrC,OAAOsC,iBAAmB,OAC1BtC,OAAO4D,eAAiB,KACxB5D,OAAOiE,QAAU,IAEjB,IAAIZ,YAAa,SAAUa,WACvBlE,OAAOkD,QAAUgB,SACjB,IAAIf,YAAaC,QAAQc,UACzB5C,YAAW+B,WACP,6BACAF,aAOJgB,QAAU,WACVd,YAAW,GACXrD,OAAOiE,QAAU,MAOjBG,eAAiB,SAAUC,UAC3BrE,OAAOiE,QAAU,KACjBD,wBAAwBM,kBACpBD,SACA,SAAUJ,SACFA,UACAjE,OAAOiE,QAAUA,YAU7BM,kBAAoB,SAAUhB,UAC9BzD,QAAQ0E,SAASC,UAOjBC,gBAAkB,SAAUnB,UAC5Ba,eAAeb,SAASc,UACxBhB,YAAW,IAOXsB,yBAA2B,SAAUpB,UACrCvD,OAAO4D,eAAiB,KACxBgB,YAOAC,oBAAsB,SAAUtB,UAChCvD,OAAO4D,eAAiB,KACxB9D,QAAQ0E,SAASC,UAOjBK,kBAAoB,SAAUvB,UAC9BvD,OAAO4D,eAAiB,KACxBQ,eAAeb,SAASc,UACxBhB,YAAW,IAMXuB,SAAW,WACXT,UACAJ,qBAAqBvB,WACjBxC,OAAOS,qBACP8D,kBACAG,iBAOR1E,QAAO4E,SAAW,WACd,MAAI5E,QAAOoC,MACP+B,cACAJ,sBAAqBtB,eACjBzC,OAAOS,qBACPkE,yBACAG,wBAKRF,aAMJ5E,OAAO+E,WAAa,WAChBZ,UACAJ,qBAAqBtB,eACjBzC,OAAO4D,eACPiB,oBACAC,oBAORtD,gBAAgBwD,GACZ,gCACA,SAAUhD,MACNhC,OAAOoC,KAAOJ,KAAKI,KACnBpC,OAAOqC,iBAAmBL,KAAKK,iBAC/BrC,OAAOsC,iBAAmBN,KAAKM,oBAM3CvD,KAAKoB,OACDK,8BAA+B,6BAC/BC,qBAAsB,oBACtBC,gCAAiC,+BACjCC,gCAAiC,+BACjCC,0BAA2B,yBAC3BE,gCAAiC,gCAOzClC,SAAQC,OAAO,iBAAiBc,QAC5B,6BAEI,OACA,uBACA,kBACA,0BACA,UACA,aACA,SACIE,KACAkE,qBACAvC,gBACAwC,wBACAlE,QACAwB,YAEA,MAAO,IAAIwC,2BACPjE,KACAkE,qBACAvC,gBACAwC,wBACAlE,QACAwB,cAchB,IAAI2D,4BAA6B,SAC7BC,SACArD,KACAsD,qBAEA,GAAIpG,MAAOC,IASXD,MAAKqG,WAAa,SAAUC,MAAOC,WAAYC,UAU3C,MARqB,mBAAVF,SACPA,MAAQF,oBAAoBjG,SAASoG,aAGpB,mBAAVD,SACPA,MAAQE,UAGLF,OAUXtG,KAAKyG,aAAe,SAChBrG,0BACAC,iBACAI,4BACAH,4BACAC,sBACAC,6BAEAJ,0BAA4BJ,KAAKqG,WAC7BjG,0BACA,6BACA,GAGJC,iBAAmBL,KAAKqG,WACpBhG,iBACA,mBACA,IAGJI,4BAA8BT,KAAKqG,WAC/B5F,4BACA,8BACA,YAGJH,4BAA8BN,KAAKqG,WAC/B/F,4BACA,8BACA,kBAGJC,sBAAwBP,KAAKqG,WACzB9F,sBACA,wBACA,eAGJC,4BAA8BR,KAAKqG,WAC/B7F,4BACA,8BACA,kBAGJJ,0BAA4BsG,QAAQtG,2BACpCA,0BAA4B0C,KAAKI,UAAU9C,2BAC3CC,iBAAmBsG,OAAOtG,kBAC1BI,4BAA8BkG,OAAOlG,6BACrCH,4BAA8BqG,OAAOrG,6BACrCC,sBAAwBoG,OAAOpG,uBAC/BC,4BAA8BmG,OAAOnG,4BAErC,IAAIoG,SAAU,gEAE4BxG,0BAA4B,4BACrCC,iBAAmB,0CACPI,4BAA8B,2CAC7BH,4BAA8B,mCACtCC,sBAAwB,0CACjBC,4BAA8B,cAGvEU,QAAU2F,OAAOD,QACrB1F,SAAQ4F,UAAU,OAElB,IAAIC,UAAW7F,QAAQ6F,WACnBC,UAAYnH,QAAQqB,QAAQA,SAC5BE,MAAQ4F,UAAU5F,KAEtB+E,UAASY,UAAU3F,QAO3BvB,SAAQC,OAAO,iBAAiBc,QAC5B,8BAEI,WACA,sBACA,SACIuF,SACAC,qBAEA,MAAO,IAAIF,4BACPC,SACArD,KACAsD,wBAShBvG,QAAQC,OAAO,iBAAiBmH,KAExB,6BACA,sBACA,SACIC,2BACAd,qBAEAc,2BAA2BT,aACvBL,oBAAoBjG,SAASC,0BAC7BgG,oBAAoBjG,SAASE,iBAC7B+F,oBAAoBjG,SAASM,4BAC7B2F,oBAAoBjG,SAASG,4BAC7B8F,oBAAoBjG,SAASI,sBAC7B6F,oBAAoBjG,SAASK,gCAS7CX,QAAQC,OAAO,iBAAiBe,UAC5B,wBACI,OACA,uBACA,kBACA,SACIC,KACAkE,qBACAvC,iBASA,QAASzB,MAAKC,OAAQC,QAASC,OAE3BF,OAAOkD,SAAU,EAEjBlD,OAAOoC,MAAO,EAEdpC,OAAOqC,iBAAmB,KAE1Bb,gBAAgBwD,GACZ,gCACA,SAAUhD,MACNhC,OAAOoC,KAAOJ,KAAKI,KACnBpC,OAAOqC,iBAAmBL,KAAKK,iBAC/BrC,OAAOkD,SAAU,IAK7B,OACInD,KAAMA,KACNI,OACIK,8BAA+B,6BAC/BC,qBAAsB,oBACtBC,gCAAiC,+BACjCC,gCAAiC,+BACjCC,0BAA2B,yBAC3BE,gCAAiC,gCAErCI,SAAU,k+CAoD1BtC,QAAQC,OAAO,iBAAiBe,UAC5B,sBAEI,4BACA,SACIsG,2BAEA,OACInG,KAAMmG,0BAA0BnG,KAChCI,MAAO+F,0BAA0B/F,MACjCe,SAAU,8jBAyB1BtC,QAAQC,OAAO,iBAAiBe,UAC5B,4BAEI,4BACA,SACIsG,2BAEA,OACInG,KAAMmG,0BAA0BnG,KAChCI,MAAO+F,0BAA0B/F,MACjCe,SAAU,8oBA0B1BtC,QAAQC,OAAO,iBAAiBe,UAC5B,gCAEI,4BACA,SACIsG,2BAEA,OACInG,KAAMmG,0BAA0BnG,KAChCI,MAAO+F,0BAA0B/F,MACjCe,SAAU,spBA0B1BtC,QAAQC,OAAO,iBAAiBe,UAC5B,uBACA,WACI,OACIO,OACIgG,gBAAiB,WACjBC,SAAU,SAEdlF,SAAU","file":"switch-user.min.js"}
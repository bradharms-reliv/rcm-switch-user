{"version":3,"sources":["switch-user.js"],"names":["rcm","addAngularModule","angular","module","directive","$sce","$window","link","$scope","element","attrs","scope","propLoading","propIsSu","propImpersonatedUser","propSwitchBackMethod","propShowSwitchToUserNameField","propSwitchToUserName","propSwitchToUserNameLabel","propSwitchBackLabel","propSuUserPassword","propMessage","propOnSwitchTo","propOnSwitchBack","template","RcmSwitchUserService","rcmLoading","rcmApiLibService","rcmEventManager","getSuMayBeActive","mayBeActive","sessionStorage","rcmSwitchUser_suMayBeActive","JSON","parse","setSuMayBeActive","data","stringify","self","this","config","suMessage","suData","isSu","impersonatedUser","switchBackMethod","apiPaths","switchUser","switchUserBack","changeSu","buildValidData","onSuChange","trigger","getSu","onSuccess","onError","get","url","loading","loadingInt","Number","setLoading","success","response","error","switchToUsername","post","status","suUserPassword","init","service","RcmSwitchUserMessageInject","$compile","injectHeader","showSwitchToUserNameField","switchToUserName","content","jQuery","prependTo","contents","aemlement","run","rcmSwitchUserMessageInject","rcmSwitchUserService","on","rcmApiLibMessageService","message","isLoading","apiInit","handleMessages","messages","getPrimaryMessage","onSwitchToSuccess","location","reload","onSwitchToError","onSwitchBackAndToSuccess","switchTo","onSwitchBackSuccess","onSwitchBackError","switchBack"],"mappings":"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","file":"switch-user.min.js"}